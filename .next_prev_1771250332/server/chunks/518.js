"use strict";exports.id=518,exports.ids=[518],exports.modules={6563:(a,b,c)=>{c.d(b,{NI:()=>g,P1:()=>e,Vf:()=>v,Xf:()=>h,ep:()=>t,lG:()=>i,s1:()=>w,vr:()=>x});var d=c(40197);let e=d.Ik({topic:d.Yj().describe("The subject/topic the student wants to learn"),currentLevel:d.Yj().describe("Current proficiency level (e.g., A1, beginner, intermediate)"),goalLevel:d.Yj().describe("Target proficiency level (e.g., B1, advanced)"),targetDate:d.Yj().describe("Target completion date (ISO format)"),contentLanguage:d.Yj().default("English").describe("Target language used for learner-facing generated content"),instructionLanguage:d.Yj().default("English").describe("Language used for UI/system instruction text"),strictTargetLanguage:d.zM().default(!0).describe("When true, generated learner content must remain in contentLanguage"),hoursPerDay:d.ai().min(.5).max(12).describe("Available hours per day"),hoursPerWeek:d.ai().min(1).max(84).describe("Available hours per week"),pacePreference:d.k5(["intensive","normal","light"]).describe("Preferred learning pace"),learningPreferences:d.Ik({videoPreference:d.ai().min(0).max(100).describe("Percentage of video content preferred"),readingPreference:d.ai().min(0).max(100).describe("Percentage of reading content preferred"),speakingFocus:d.zM().describe("Whether to focus on speaking practice"),writingFocus:d.zM().describe("Whether to focus on writing practice"),listeningFocus:d.zM().describe("Whether to focus on listening practice")}),constraints:d.Ik({device:d.Yj().optional().describe("Device constraints (mobile, desktop, etc.)"),accessibility:d.Yj().optional().describe("Accessibility requirements"),examFormat:d.Yj().optional().describe("Target exam format if any")}),additionalNotes:d.Yj().optional().describe("Any additional notes or requirements")}),f=d.Ik({index:d.ai(),title:d.Yj(),description:d.Yj(),outcomes:d.YO(d.Yj()),estimatedHours:d.ai(),lessonsCount:d.ai()});d.Ik({index:d.ai(),title:d.Yj(),description:d.Yj(),objectives:d.YO(d.Yj()),estimatedMinutes:d.ai(),keyTopics:d.YO(d.Yj()),prerequisites:d.YO(d.Yj()).optional()});let g=d.Ik({title:d.Yj(),description:d.Yj(),modules:d.YO(f),totalLessons:d.ai(),totalHours:d.ai(),estimatedWeeks:d.ai(),milestones:d.YO(d.Ik({title:d.Yj(),week:d.ai(),description:d.Yj()}))}),h=d.Ik({type:d.k5(["youtube","article","book","podcast","other"]),title:d.Yj(),url:d.Yj().url(),description:d.Yj(),durationSeconds:d.ai().nullable().optional(),channel:d.Yj().nullable().optional(),qualityScore:d.ai().min(0).max(1),relevanceScore:d.ai().min(0).max(1),reason:d.Yj().describe("Why this resource was selected")}),i=d.Ik({summary:d.Yj(),keyPoints:d.YO(d.Yj()),glossary:d.YO(d.Ik({term:d.Yj(),definition:d.Yj(),example:d.Yj().optional()})),guidedNotes:d.YO(d.Ik({section:d.Yj(),content:d.Yj(),questions:d.YO(d.Yj()).optional()})),additionalResources:d.YO(d.Ik({title:d.Yj(),url:d.Yj(),description:d.Yj().optional()})).optional()}),j=d.Ik({type:d.eu("mcq"),question:d.Yj(),options:d.YO(d.Yj()),correctAnswer:d.ai(),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),k=d.Ik({type:d.eu("true_false"),question:d.Yj(),correctAnswer:d.zM(),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),l=d.Ik({type:d.eu("matching"),question:d.Yj(),pairs:d.YO(d.Ik({left:d.Yj(),right:d.Yj()})),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),m=d.Ik({type:d.eu("cloze"),question:d.Yj(),blanks:d.YO(d.Ik({index:d.ai(),answer:d.Yj(),alternatives:d.YO(d.Yj()).optional()})),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),n=d.Ik({type:d.eu("short_answer"),question:d.Yj(),expectedAnswer:d.Yj(),keywords:d.YO(d.Yj()),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),o=d.Ik({type:d.eu("listening"),question:d.Yj(),audioUrl:d.Yj().url().optional(),transcript:d.Yj().optional(),correctAnswer:d.Yj(),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),p=d.Ik({type:d.eu("reading"),passage:d.Yj(),question:d.Yj(),correctAnswer:d.Yj(),explanation:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"])}),q=d.Ik({type:d.eu("speaking"),prompt:d.Yj(),rubric:d.Ik({criteria:d.YO(d.Ik({name:d.Yj(),description:d.Yj(),maxPoints:d.ai()}))}),timeLimitSeconds:d.ai().optional(),difficulty:d.k5(["beginner","intermediate","advanced"])}),r=d.Ik({type:d.eu("writing"),prompt:d.Yj(),rubric:d.Ik({criteria:d.YO(d.Ik({name:d.Yj(),description:d.Yj(),maxPoints:d.ai()}))}),wordLimit:d.Ik({min:d.ai(),max:d.ai()}).optional(),difficulty:d.k5(["beginner","intermediate","advanced"])}),s=d.gM("type",[j,k,l,m,n,o,p,q,r]),t=d.Ik({title:d.Yj(),description:d.Yj(),difficulty:d.k5(["beginner","intermediate","advanced"]),type:d.k5(["mixed","reading","listening","speaking","writing","grammar","vocabulary"]),estimatedMinutes:d.ai(),questions:d.YO(s),instructions:d.Yj().optional()}),u=d.Ik({name:d.Yj(),description:d.Yj(),maxPoints:d.ai(),levels:d.YO(d.Ik({score:d.ai(),description:d.Yj()}))}),v=d.Ik({criteria:d.YO(u),totalPoints:d.ai(),passingScore:d.ai()}),w=d.Ik({type:d.k5(["quiz","test","exam"]),title:d.Yj(),description:d.Yj(),timeLimitMinutes:d.ai().optional(),questions:d.YO(s),rubric:v.optional(),passingScore:d.ai(),instructions:d.Yj().optional()}),x=d.Ik({score:d.ai().min(0).max(100),passed:d.zM(),feedback:d.Yj(),detailedFeedback:d.YO(d.Ik({questionIndex:d.ai(),score:d.ai(),feedback:d.Yj(),correctAnswer:d.Yj().optional()})),improvementPlan:d.YO(d.Ik({topic:d.Yj(),action:d.Yj(),resources:d.YO(d.Yj()).optional()}))}),y=d.Ik({type:d.k5(["lesson","exercise","quiz","test","exam","review","break"]),title:d.Yj(),description:d.Yj(),estimatedMinutes:d.ai(),priority:d.k5(["high","medium","low"]),completed:d.zM().default(!1),refId:d.Yj().optional()});d.Ik({date:d.Yj(),totalEstimatedMinutes:d.ai(),items:d.YO(y),notes:d.Yj().optional(),focusAreas:d.YO(d.Yj()).optional()}),d.Ik({agentName:d.Yj(),timestamp:d.Yj(),success:d.zM(),data:d.bz().optional(),error:d.Yj().optional(),metadata:d.g1(d.Yj(),d.bz()).optional()})},55518:(a,b,c)=>{c.d(b,{w:()=>j});var d=c(42082),e=c(6563);let f=["topic","contentLanguage","currentLevel","goalLevel","targetDate","hoursPerDay","pacePreference"],g=["instructionLanguage","strictTargetLanguage","learningPreferences","constraints","additionalNotes"];class h{toBoolean(a,b=!1){if("boolean"==typeof a)return a;if("string"==typeof a){let b=a.trim().toLowerCase();if(["true","yes","y","1","strict"].includes(b))return!0;if(["false","no","n","0"].includes(b))return!1}return b}toBoundedNumber(a,b,c,d){let e="number"==typeof a?a:Number(a);return Number.isFinite(e)?Math.min(d,Math.max(c,e)):b}async getNextQuestion(a){let b=f.filter(b=>!a.completedQuestions.includes(b));if(0===b.length){let b=g.filter(b=>!a.completedQuestions.includes(b));return b.length>0?this.getQuestionForField(b[0]):null}return this.getQuestionForField(b[0])}getQuestionForField(a){return({topic:{questionKey:"topic",question:"What subject or topic would you like to learn?",rationale:"This helps us design a curriculum tailored to your interests.",type:"text",required:!0},contentLanguage:{questionKey:"contentLanguage",question:"Which language should learner content use? (questions, passages, prompts, answers, feedback)",rationale:"We enforce this language in lesson content, exercises, and assessments for consistent immersion.",type:"text",required:!0},currentLevel:{questionKey:"currentLevel",question:"What is your current level in this subject?",rationale:"Understanding your starting point helps us create an appropriate learning path.",type:"select",options:["Complete Beginner","Beginner","Elementary","Intermediate","Advanced","Expert"],required:!0},goalLevel:{questionKey:"goalLevel",question:"What is your target level?",rationale:"Your goal determines the depth and breadth of the curriculum.",type:"select",options:["Beginner","Elementary","Intermediate","Advanced","Expert","Mastery"],required:!0},targetDate:{questionKey:"targetDate",question:"By when would you like to achieve your goal? (Please provide a date)",rationale:"This helps us create a realistic timeline and pace.",type:"text",required:!0},hoursPerDay:{questionKey:"hoursPerDay",question:"How many hours per day can you dedicate to learning?",rationale:"Your available time determines the intensity of the program.",type:"select",options:["Less than 1 hour","1-2 hours","2-3 hours","3-4 hours","4+ hours"],required:!0},pacePreference:{questionKey:"pacePreference",question:"What learning pace do you prefer?",rationale:"This helps us balance challenge and comfort in your learning journey.",type:"select",options:["Intensive (fast-paced, challenging)","Normal (balanced pace)","Light (relaxed, thorough)"],required:!0},instructionLanguage:{questionKey:"instructionLanguage",question:"Which language should platform instructions and UI helper text use?",rationale:"This controls system-facing text only. Learner content language is controlled separately.",type:"select",options:["English","Same as learner content language"],required:!1},strictTargetLanguage:{questionKey:"strictTargetLanguage",question:"Should learner content stay strictly in your target content language?",rationale:"Strict mode avoids mixed-language exercises and keeps all learner-facing artifacts in one language.",type:"select",options:["Yes, strict target-language mode","No, allow mixed-language support when needed"],required:!1},learningPreferences:{questionKey:"learningPreferences",question:"Do you have any preferences for how you learn? (e.g., more videos, more reading, focus on speaking/writing)",rationale:"We can customize the content format based on your preferences.",type:"text",required:!1},constraints:{questionKey:"constraints",question:"Are there any constraints we should know about? (e.g., device limitations, accessibility needs, specific exam format)",rationale:"This helps us ensure the program works for your specific situation.",type:"text",required:!1},additionalNotes:{questionKey:"additionalNotes",question:"Is there anything else you'd like to share about your learning goals or preferences?",rationale:"Additional context helps us create a more personalized experience.",type:"text",required:!1}})[a]||{questionKey:a,question:`Please provide information about ${a}`,type:"text",required:!1}}async processAnswer(a,b,c){let d={...a};return d.answers[b]=c,d.completedQuestions.includes(b)||d.completedQuestions.push(b),d.currentQuestion=await this.getNextQuestion(d),d.isComplete=null===d.currentQuestion,d}async generateProfile(a){let b=a.answers,c=2;if("string"==typeof b.hoursPerDay){let a=b.hoursPerDay.match(/(\d+)/);a&&(c=parseInt(a[1],10))}else"number"==typeof b.hoursPerDay&&(c=b.hoursPerDay);let d=7*c,f="normal";if("string"==typeof b.pacePreference){let a=b.pacePreference.toLowerCase();f=a.includes("intensive")||a.includes("fast")?"intensive":a.includes("light")||a.includes("relaxed")?"light":"normal"}let g={videoPreference:50,readingPreference:50,speakingFocus:!1,writingFocus:!1,listeningFocus:!1};if("string"==typeof b.learningPreferences){let a=b.learningPreferences.toLowerCase();a.includes("video")&&(g.videoPreference=70),a.includes("reading")&&(g.readingPreference=70),a.includes("speaking")&&(g.speakingFocus=!0),a.includes("writing")&&(g.writingFocus=!0),a.includes("listening")&&(g.listeningFocus=!0)}else if(b.learningPreferences&&"object"==typeof b.learningPreferences){let a=b.learningPreferences;g.videoPreference=this.toBoundedNumber(a.videoPreference,g.videoPreference,0,100),g.readingPreference=this.toBoundedNumber(a.readingPreference,g.readingPreference,0,100),g.speakingFocus=this.toBoolean(a.speakingFocus,g.speakingFocus),g.writingFocus=this.toBoolean(a.writingFocus,g.writingFocus),g.listeningFocus=this.toBoolean(a.listeningFocus,g.listeningFocus)}let h={};if("string"==typeof b.constraints){let a=b.constraints.toLowerCase();a.includes("mobile")&&(h.device="mobile"),a.includes("desktop")&&(h.device="desktop"),a.includes("accessibility")&&(h.accessibility=b.constraints),a.includes("exam")&&(h.examFormat=b.constraints)}else if(b.constraints&&"object"==typeof b.constraints){let a=b.constraints;"string"==typeof a.device&&a.device.trim()&&(h.device=a.device.trim()),"string"==typeof a.accessibility&&a.accessibility.trim()&&(h.accessibility=a.accessibility.trim()),"string"==typeof a.examFormat&&a.examFormat.trim()&&(h.examFormat=a.examFormat.trim())}let i={topic:b.topic||"",currentLevel:b.currentLevel||"Beginner",goalLevel:b.goalLevel||"Intermediate",targetDate:b.targetDate||new Date(Date.now()+7776e6).toISOString().split("T")[0],contentLanguage:"string"==typeof b.contentLanguage&&b.contentLanguage.trim()?b.contentLanguage.trim():"English",instructionLanguage:"string"==typeof b.instructionLanguage&&b.instructionLanguage.toLowerCase().includes("same")?"string"==typeof b.contentLanguage&&b.contentLanguage.trim()?b.contentLanguage.trim():"English":"string"==typeof b.instructionLanguage&&b.instructionLanguage.trim()?b.instructionLanguage.trim():"English",strictTargetLanguage:"string"==typeof b.strictTargetLanguage?b.strictTargetLanguage.toLowerCase().includes("yes")||b.strictTargetLanguage.toLowerCase().includes("strict"):"boolean"!=typeof b.strictTargetLanguage||b.strictTargetLanguage,hoursPerDay:c,hoursPerWeek:d,pacePreference:f,learningPreferences:g,constraints:h,additionalNotes:b.additionalNotes};return e.P1.parse(i)}async generateSummary(a){let b=[{role:"system",content:"You are an admissions officer at an educational institution. Generate a professional summary of a student's onboarding profile."},{role:"user",content:`Generate a summary for this student profile:

${JSON.stringify(a,null,2)}`}],c=await this.client.chatCompletion({messages:b,temperature:.7,priority:"fast"});return c.selectedResult.choices[0]?.message?.content||"Summary unavailable"}async initializeSession(){let a={answers:{},completedQuestions:[],currentQuestion:null,isComplete:!1};return a.currentQuestion=await this.getNextQuestion(a),a}constructor(){this.client=(0,d.z)()}}let i=null;function j(){return i||(i=new h),i}}};